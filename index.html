<!DOCTYPE html>
<html>
<head>
    <title>Test DSOG API</title>
</head>
<body>
    <h1>DSOG API Test</h1>
    
    <div>
        <label>API URL: </label>
        <input type="text" id="apiUrl" value="https://script.google.com/macros/s/AKfycbyQxTr7jIDGOrRXm8BouNgchHC5Mq_pKSQDlxZbDmZX-F6K05FhXSZ9g1t4p6ZydVEr/exec" style="width: 500px;">
    </div>
    
    <button onclick="testConnection()">Test Connection</button>
    <button onclick="testLogin()">Test Login</button>
    <button onclick="testGetProducts()">Test Get Products</button>
    
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; min-height: 100px;"></div>
    
    <script>
        function testConnection() {
            const apiUrl = document.getElementById('apiUrl').value;
            fetch(apiUrl + '?action=testConnection')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('result').innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
                })
                .catch(e => {
                    document.getElementById('result').innerHTML = `Error: ${e}`;
                });
        }
        
        function testLogin() {
            const apiUrl = document.getElementById('apiUrl').value;
            fetch(apiUrl + '?action=loginFranchisee&phone=254727211191&pin=1234')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('result').innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
                })
                .catch(e => {
                    document.getElementById('result').innerHTML = `Error: ${e}`;
                });
        }
        
        function testGetProducts() {
            const apiUrl = document.getElementById('apiUrl').value;
            fetch(apiUrl + '?action=getProducts')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('result').innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
                })
                .catch(e => {
                    document.getElementById('result').innerHTML = `Error: ${e}`;
                });
        }
    </script>
</body>
</html>
